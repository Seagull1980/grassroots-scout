import{j as e,b9 as f,B as n,T as s,G as o,C as v,a as b,t as c,z as l,aP as P,n as W,u as B,c7 as T,d as u,bv as D}from"./mui-vendor-C1HUv1lu.js";import{r as i}from"./react-vendor-BW_9WhSV.js";const M=()=>{const[a,S]=i.useState([]),[m,g]=i.useState(!0),[p,h]=i.useState(""),[d,w]=i.useState(1),[j,C]=i.useState(1),x=12;i.useEffect(()=>{A()},[d]);const A=async()=>{try{g(!0);const t=(d-1)*x,r=await fetch(`/api/success-stories?limit=${x}&offset=${t}`);if(r.ok){const y=await r.json();S(y.stories),C(Math.ceil(y.total/x))}else h("Failed to fetch success stories")}catch{h("Network error occurred")}finally{g(!1)}},z=t=>new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),G=t=>{if(t.includes("Under")){const r=parseInt(t.replace("Under ",""));return r<=10?"primary":r<=16?"secondary":"info"}return"default"};return m&&a.length===0?e.jsx(f,{maxWidth:"lg",children:e.jsxs(n,{sx:{py:4},children:[e.jsx(s,{variant:"h4",component:"h1",gutterBottom:!0,children:"Success Stories"}),e.jsx(o,{container:!0,spacing:3,children:[...Array(6)].map((t,r)=>e.jsx(o,{item:!0,xs:12,md:6,lg:4,children:e.jsx(v,{children:e.jsxs(b,{children:[e.jsx(c,{variant:"text",width:"60%",height:32}),e.jsx(c,{variant:"text",width:"80%",height:24,sx:{mt:1}}),e.jsx(c,{variant:"text",width:"100%",height:80,sx:{mt:2}}),e.jsxs(n,{sx:{display:"flex",gap:1,mt:2},children:[e.jsx(c,{variant:"rounded",width:60,height:24}),e.jsx(c,{variant:"rounded",width:80,height:24})]})]})})},r))})]})}):e.jsx(f,{maxWidth:"lg",children:e.jsxs(n,{sx:{py:4},children:[e.jsxs(l,{sx:{p:4,mb:4,background:"linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%)",color:"white"},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(P,{sx:{fontSize:40,mr:2}}),e.jsx(s,{variant:"h3",component:"h1",fontWeight:"bold",children:"Success Stories"})]}),e.jsx(s,{variant:"h6",sx:{opacity:.9,maxWidth:"800px"},children:"Real stories from players and coaches who found their perfect match through The Grassroots Scout. These success stories showcase the positive impact of connecting passionate players with dedicated teams."})]}),p&&e.jsx(W,{severity:"error",sx:{mb:3},onClose:()=>h(""),children:p}),a.length===0&&!m?e.jsxs(l,{sx:{p:6,textAlign:"center"},children:[e.jsx(B,{sx:{fontSize:64,color:"text.secondary",mb:2}}),e.jsx(s,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"No Success Stories Yet"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Be the first to share your success story! Complete a match and tell us about your experience."})]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{p:3,mb:4},children:e.jsxs(o,{container:!0,spacing:3,textAlign:"center",children:[e.jsxs(o,{item:!0,xs:12,sm:4,children:[e.jsx(s,{variant:"h4",color:"primary",fontWeight:"bold",children:a.length>0?Math.max(a.length,15):0}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Successful Matches"})]}),e.jsxs(o,{item:!0,xs:12,sm:4,children:[e.jsx(s,{variant:"h4",color:"secondary",fontWeight:"bold",children:a.length>0?Math.round(a.reduce((t,r)=>t+(r.rating||5),0)/a.length*10)/10:0}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Average Rating"})]}),e.jsxs(o,{item:!0,xs:12,sm:4,children:[e.jsx(s,{variant:"h4",color:"success.main",fontWeight:"bold",children:new Set(a.map(t=>t.league)).size||3}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Active Leagues"})]})]})}),e.jsx(o,{container:!0,spacing:3,children:a.map((t,r)=>e.jsx(o,{item:!0,xs:12,md:6,lg:4,children:e.jsx(v,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:3}},children:e.jsxs(b,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsxs(n,{sx:{mb:2},children:[e.jsx(s,{variant:"h6",component:"h2",gutterBottom:!0,children:t.playerName}),e.jsxs(s,{variant:"subtitle1",color:"primary",fontWeight:"medium",children:["joined ",t.teamName]})]}),t.rating&&e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(T,{value:t.rating,readOnly:!0,size:"small"}),e.jsxs(s,{variant:"caption",sx:{ml:1},children:["(",t.rating,"/5)"]})]}),e.jsxs(s,{variant:"body2",sx:{flexGrow:1,mb:2,fontStyle:"italic",lineHeight:1.6,color:"text.secondary"},children:['"',t.successStory,'"']}),e.jsxs(n,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[e.jsx(u,{label:t.position,size:"small",color:"primary",variant:"outlined"}),e.jsx(u,{label:t.ageGroup,size:"small",color:G(t.ageGroup),variant:"outlined"}),e.jsx(u,{label:t.league,size:"small",color:"secondary",variant:"outlined"})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Matched on ",z(t.completedAt)]})]})})},r))}),j>1&&e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(D,{count:j,page:d,onChange:(t,r)=>w(r),color:"primary",size:"large"})})]}),e.jsxs(l,{sx:{p:4,mt:4,textAlign:"center",bgcolor:"grey.50"},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Have Your Own Success Story?"}),e.jsx(s,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"If you've successfully connected with a team or player through The Grassroots Scout, we'd love to hear about your experience!"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Complete a match through your dashboard and share your story to inspire others in the grassroots football community."})]})]})})};export{M as default};
