import{j as e,z as T,B as s,a0 as u,I as D,Q as v,bx as M,s as n,aC as I,T as h,a1 as U,a2 as Y,a3 as w,i as d,D as J,d as x,bq as z,br as _,bs as $,bt as K,G as o,$ as S,x as V,a4 as q,H as Q,b9 as X}from"./mui-vendor-C1HUv1lu.js";import{r as m,u as Z}from"./react-vendor-BW_9WhSV.js";import{a as G}from"./admin-features-DSNbd77k.js";const ee=[{name:"Central Warwickshire Youth Football League",url:"https://fulltime.thefa.com/index.html?league=4385806"},{name:"Eastern Junior Alliance",url:"https://fulltime.thefa.com/index.html?league=257944965"},{name:"Northumberland Football League",url:"https://fulltime.thefa.com/index.html?league=136980506"},{name:"East Manchester Junior Football League ( Charter Standard League )",url:"https://fulltime.thefa.com/index.html?league=8335132"},{name:"Surrey Youth League (SYL)",url:"https://fulltime.thefa.com/index.html?league=863411662"},{name:"Teesside Junior Football Alliance League",url:"https://fulltime.thefa.com/index.html?league=8739365"},{name:"Sheffield & District Junior Sunday League",url:"https://fulltime.thefa.com/index.html?league=5484799"},{name:"BCFA Youth League",url:"https://fulltime.thefa.com/index.html?league=671683416"},{name:"Midland Junior Premier League",url:"https://fulltime.thefa.com/index.html?league=1182044"},{name:"YEL East Midlands SATURDAY",url:"https://fulltime.thefa.com/index.html?league=5628447"},{name:"Norfolk Combined Youth Football League",url:"https://fulltime.thefa.com/index.html?league=303322696"},{name:"Garforth Junior Football League",url:"https://fulltime.thefa.com/index.html?league=13588"},{name:"Cambridgeshire County League",url:"https://fulltime.thefa.com/index.html?league=7984801"},{name:"Warrington Junior Football League",url:"https://fulltime.thefa.com/index.html?league=70836961"},{name:"HUDDERSFIELD FOX ENGRAVERS JUNIOR FOOTBALL LEAGUE",url:"https://fulltime.thefa.com/index.html?league=8747035"},{name:"The FA Women's National League",url:"https://fulltime.thefa.com/index.html?league=872938"},{name:"Kernow Stone St Piran League",url:"https://fulltime.thefa.com/index.html?league=656725252"},{name:"Avon Youth League",url:"https://fulltime.thefa.com/index.html?league=3323170"},{name:"Doncaster & District Youth Football League Sponsored by Doncaster Rovers FC",url:"https://fulltime.thefa.com/index.html?league=8057112"},{name:"Southern Combination Football League",url:"https://fulltime.thefa.com/index.html?league=840602727"},{name:"YEL East Midlands SUNDAY",url:"https://fulltime.thefa.com/index.html?league=515215211"},{name:"Fosters Solicitors Anglian Combination",url:"https://fulltime.thefa.com/index.html?league=4780817"},{name:"GCE Hire Fleet United Counties Football League",url:"https://fulltime.thefa.com/index.html?league=1625657"},{name:"Epsom & Ewell Youth Football League",url:"https://fulltime.thefa.com/index.html?league=6662406"},{name:"Oxfordshire Youth Football League",url:"https://fulltime.thefa.com/index.html?league=6306575"},{name:"Echo Junior Football League",url:"https://fulltime.thefa.com/index.html?league=387606494"},{name:"GCE Hire Fleet Peterborough & District Football League",url:"https://fulltime.thefa.com/index.html?league=6486466"},{name:"Bolton, Bury and District Football League",url:"https://fulltime.thefa.com/index.html?league=760017"},{name:"North East Hampshire Youth League - NEHYL",url:"https://fulltime.thefa.com/index.html?league=9268728"},{name:"Stourbridge & District Youth Football League",url:"https://fulltime.thefa.com/index.html?league=381565593"},{name:"The Milton Keynes & District Development League",url:"https://fulltime.thefa.com/index.html?league=96486"},{name:"Thurlow Nunn League",url:"https://fulltime.thefa.com/index.html?league=958158630"},{name:"Northampton and District Youth Alliance League",url:"https://fulltime.thefa.com/index.html?league=377117096"},{name:"Mid Sussex Youth Football League",url:"https://fulltime.thefa.com/index.html?league=1375655"},{name:"Walsall Junior Youth Football League",url:"https://fulltime.thefa.com/index.html?league=835095895"},{name:"Devon Junior & Minor league",url:"https://fulltime.thefa.com/index.html?league=1548711"},{name:"West Herts Youth League",url:"https://fulltime.thefa.com/index.html?league=945817950"},{name:"Yorkshire Amateur Association Football League",url:"https://fulltime.thefa.com/index.html?league=7058382"},{name:"North Wilts Youth Football League",url:"https://fulltime.thefa.com/index.html?league=8577245"},{name:"Russell Foster Tyne & Wear Football League",url:"https://fulltime.thefa.com/index.html?league=400742710"},{name:"Leicester & District Sunday Juniors League",url:"https://fulltime.thefa.com/index.html?league=9293439"},{name:"Spartan South Midlands Football League",url:"https://fulltime.thefa.com/index.html?league=522238936"},{name:"Sheffield & Hallamshire Women & Girls League",url:"https://fulltime.thefa.com/index.html?league=6066158"},{name:"Hellenic League - Proudly Sponsored by uhlsport",url:"https://fulltime.thefa.com/index.html?league=646734134"},{name:"STROUD & DISTRICT FOOTBALL LEAGUE sponsored by BATEMAN'S SPORTS",url:"https://fulltime.thefa.com/index.html?league=1199765"},{name:"Kent Youth League",url:"https://fulltime.thefa.com/index.html?league=286758524"},{name:"LINCOLNSHIRE CO-OP MID LINCS COUNTY YOUTH FOOTBALL LEAGUE",url:"https://fulltime.thefa.com/index.html?league=4961425"},{name:"Liverpool Premier League",url:"https://fulltime.thefa.com/index.html?league=4075038"},{name:"Hertfordshire Girls Football Partnership League",url:"https://fulltime.thefa.com/index.html?league=4062637"},{name:"Watford Friendly League",url:"https://fulltime.thefa.com/index.html?league=861969338"}],te=({onSearch:c,initialFilters:g={},loading:p=!1})=>{const[l,f]=m.useState({searchTerm:"",type:"both",league:"",ageGroup:"",position:"",location:"",sortBy:"newest",radius:50,...g}),[F,C]=m.useState([]),[b,A]=m.useState(!1),[j,L]=m.useState(!1),W=ee.map(t=>t.name),H=["Under 6","Under 7","Under 8","Under 9","Under 10","Under 11","Under 12","Under 13","Under 14","Under 15","Under 16","Under 17","Under 18","Under 19","Under 20","Under 21","Senior","Veterans"],O=["Goalkeeper","Defender","Midfielder","Forward","Winger","Striker"],k=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"alphabetical",label:"Alphabetical"}];m.useEffect(()=>{B()},[]);const B=async()=>{try{const t=await G.get("/search/history?limit=5");C(t.data.history)}catch(t){console.warn("Failed to load search history:",t)}},r=(t,a)=>{f(R=>({...R,[t]:a}))},y=()=>{c(l),L(!1)},E=()=>{f({searchTerm:"",type:"both",league:"",ageGroup:"",position:"",location:"",sortBy:"newest",radius:50})},N=t=>{const a={...l,searchTerm:t.searchTerm,...t.filters};f(a),c(a),L(!1)},P=async()=>{try{await G.delete("/search/history"),C([])}catch(t){console.error("Failed to clear search history:",t)}},i=()=>Object.entries(l).filter(([t,a])=>t==="searchTerm"||t==="type"||t==="sortBy"||t==="radius"?!1:a!=="").length;return e.jsxs(T,{elevation:2,sx:{p:3,mb:3},children:[e.jsxs(s,{sx:{display:"flex",gap:2,mb:2,alignItems:"flex-end"},children:[e.jsx(u,{fullWidth:!0,label:"Search teams and players",placeholder:"Enter keywords, team name, or location...",value:l.searchTerm,onChange:t=>r("searchTerm",t.target.value),onKeyPress:t=>t.key==="Enter"&&y(),InputProps:{endAdornment:e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[l.searchTerm&&e.jsx(D,{size:"small",onClick:()=>r("searchTerm",""),children:e.jsx(v,{fontSize:"small"})}),e.jsx(D,{onClick:()=>L(!j),color:j?"primary":"default",children:e.jsx(M,{})})]})}}),e.jsx(n,{variant:"contained",onClick:y,disabled:p,startIcon:e.jsx(I,{}),sx:{minWidth:120,height:56},children:"Search"})]}),j&&F.length>0&&e.jsxs(T,{elevation:3,sx:{p:2,mb:2,maxHeight:300,overflowY:"auto",border:1,borderColor:"divider"},children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(h,{variant:"subtitle2",color:"text.secondary",children:"Recent Searches"}),e.jsx(n,{size:"small",onClick:P,children:"Clear All"})]}),F.map((t,a)=>e.jsxs(s,{sx:{p:1,borderRadius:1,cursor:"pointer","&:hover":{bgcolor:"action.hover"}},onClick:()=>N(t),children:[e.jsx(h,{variant:"body2",children:t.searchTerm||"Advanced search"}),e.jsxs(h,{variant:"caption",color:"text.secondary",children:[t.resultsCount," results â€¢ ",new Date(t.searchedAt).toLocaleDateString()]})]},a))]}),e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[e.jsxs(U,{size:"small",sx:{minWidth:120},children:[e.jsx(Y,{children:"Type"}),e.jsxs(w,{value:l.type,label:"Type",onChange:t=>r("type",t.target.value),children:[e.jsx(d,{value:"both",children:"Both"}),e.jsx(d,{value:"vacancies",children:"Team Vacancies"}),e.jsx(d,{value:"players",children:"Player Availability"})]})]}),e.jsxs(U,{size:"small",sx:{minWidth:120},children:[e.jsx(Y,{children:"Sort By"}),e.jsx(w,{value:l.sortBy,label:"Sort By",onChange:t=>r("sortBy",t.target.value),children:k.map(t=>e.jsx(d,{value:t.value,children:t.label},t.value))})]}),e.jsxs(n,{variant:"outlined",startIcon:e.jsx(J,{}),onClick:()=>A(!b),color:i()>0?"primary":"inherit",children:["Filters ",i()>0&&`(${i()})`]}),i()>0&&e.jsx(n,{variant:"text",startIcon:e.jsx(v,{}),onClick:E,size:"small",children:"Clear All"})]}),i()>0&&e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[l.league&&e.jsx(x,{label:`League: ${l.league}`,onDelete:()=>r("league",""),size:"small",color:"primary"}),l.ageGroup&&e.jsx(x,{label:`Age: ${l.ageGroup}`,onDelete:()=>r("ageGroup",""),size:"small",color:"primary"}),l.position&&e.jsx(x,{label:`Position: ${l.position}`,onDelete:()=>r("position",""),size:"small",color:"primary"}),l.location&&e.jsx(x,{label:`Location: ${l.location}`,onDelete:()=>r("location",""),size:"small",color:"primary"})]}),e.jsxs(z,{expanded:b,onChange:()=>A(!b),children:[e.jsx(_,{expandIcon:e.jsx($,{}),children:e.jsx(h,{variant:"subtitle2",children:"Advanced Filters"})}),e.jsxs(K,{children:[e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{options:W,value:l.league,onChange:(t,a)=>r("league",a||""),renderInput:t=>e.jsx(u,{...t,label:"League",fullWidth:!0})})}),e.jsx(o,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{options:H,value:l.ageGroup,onChange:(t,a)=>r("ageGroup",a||""),renderInput:t=>e.jsx(u,{...t,label:"Age Group",fullWidth:!0})})}),e.jsx(o,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{options:O,value:l.position,onChange:(t,a)=>r("position",a||""),renderInput:t=>e.jsx(u,{...t,label:"Position",fullWidth:!0})})}),e.jsx(o,{item:!0,xs:12,sm:6,md:3,children:e.jsx(u,{fullWidth:!0,label:"Location",value:l.location,onChange:t=>r("location",t.target.value),InputProps:{startAdornment:e.jsx(V,{sx:{mr:1,color:"text.secondary"}})}})}),e.jsxs(o,{item:!0,xs:12,children:[e.jsxs(h,{gutterBottom:!0,children:["Search Radius: ",l.radius," km"]}),e.jsx(q,{value:l.radius,onChange:(t,a)=>r("radius",a),min:5,max:200,step:5,marks:[{value:5,label:"5km"},{value:50,label:"50km"},{value:100,label:"100km"},{value:200,label:"200km"}],valueLabelDisplay:"auto"})]})]}),e.jsx(Q,{sx:{my:3}}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsx(n,{variant:"outlined",onClick:E,startIcon:e.jsx(v,{}),children:"Clear All Filters"}),e.jsx(n,{variant:"contained",onClick:y,startIcon:e.jsx(I,{}),children:"Apply Filters"})]})]})]})]})},se=()=>{const c=Z(),g=p=>{c("/search",{state:{searchParams:p}})};return e.jsx(X,{maxWidth:"lg",sx:{mt:3,mb:3},children:e.jsx(te,{onSearch:g})})};export{se as default};
