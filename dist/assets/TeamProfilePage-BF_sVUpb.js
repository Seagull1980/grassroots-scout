import{j as e,b8 as P,n as S,y as k,B as c,T as a,s as u,N as O,ab as H,af as F,G as s,C as x,a as j,b5 as B,bY as L,d as g,bE as M,aO as $,aY as V,z as J,a6 as U,a7 as X,a8 as K,H as p,a0 as i,X as v,Y as f,a9 as Q}from"./mui-vendor-JAsu9f5S.js";import{r as h}from"./react-vendor-BTglNIF_.js";import{u as Z}from"./admin-features-R-myf6Sn.js";const ae=()=>{const{user:y}=Z(),[t,b]=h.useState(null),[N,T]=h.useState(!0),[G,m]=h.useState(!1),[r,A]=h.useState({teamName:"",clubName:"",establishedYear:null,teamDescription:"",homeGroundName:"",homeGroundAddress:"",trainingSchedule:"",hasRegularSocialEvents:!1,socialEventsDescription:"",welcomesParentInvolvement:!0,parentInvolvementDetails:"",attendsSummerTournaments:!1,tournamentDetails:"",hasPathwayProgram:!1,pathwayDescription:"",linkedAdultTeam:"",academyAffiliation:"",coachingPhilosophy:"",trainingFocus:"",developmentAreas:"",coachingStaff:"",teamAchievements:"",specialRequirements:"",equipmentProvided:"",seasonalFees:"",contactPreferences:""}),[D,d]=h.useState(null),[w,C]=h.useState(null),[I,E]=h.useState(!1);h.useEffect(()=>{y?.role==="Coach"?W():T(!1)},[y]);const W=async()=>{try{const l=await fetch("/api/team-profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.status===404)b(null);else if(l.ok){const o=await l.json();b(o),A(o)}else{const o=await l.json();d(o.error||"Failed to fetch team profile")}}catch{d("Failed to fetch team profile")}finally{T(!1)}},R=async()=>{E(!0),d(null);try{const l=await fetch("/api/team-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(r)});if(l.ok){const o=await l.json();C(o.message),m(!1),await W()}else{const o=await l.json();d(o.error||"Failed to save team profile")}}catch{d("Failed to save team profile")}finally{E(!1)}},q=async()=>{if(confirm("Are you sure you want to delete your team profile?"))try{const l=await fetch("/api/team-profile",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok)C("Team profile deleted successfully"),b(null);else{const o=await l.json();d(o.error||"Failed to delete team profile")}}catch{d("Failed to delete team profile")}},n=l=>o=>{const Y=o.target.type==="checkbox"?o.target.checked:o.target.value;A(z=>({...z,[l]:Y}))};return y?.role!=="Coach"?e.jsx(P,{maxWidth:"lg",sx:{mt:3},children:e.jsx(S,{severity:"info",children:"Team profiles are only available to coaches."})}):N?e.jsx(P,{maxWidth:"lg",sx:{mt:3,display:"flex",justifyContent:"center"},children:e.jsx(k,{})}):e.jsxs(P,{maxWidth:"lg",sx:{mt:3,mb:3},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h4",gutterBottom:!0,children:"Team Profile"}),t?e.jsxs(c,{children:[e.jsx(u,{variant:"outlined",startIcon:e.jsx(O,{}),onClick:()=>m(!0),sx:{mr:2},children:"Edit Profile"}),e.jsx(u,{variant:"outlined",color:"error",startIcon:e.jsx(H,{}),onClick:q,children:"Delete Profile"})]}):e.jsx(u,{variant:"contained",startIcon:e.jsx(F,{}),onClick:()=>m(!0),children:"Create Team Profile"})]}),D&&e.jsx(S,{severity:"error",sx:{mb:3},onClose:()=>d(null),children:D}),w&&e.jsx(S,{severity:"success",sx:{mb:3},onClose:()=>C(null),children:w}),t?e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(x,{children:e.jsxs(j,{children:[e.jsxs(a,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(B,{sx:{mr:1}}),"Team Information"]}),e.jsxs(a,{children:[e.jsx("strong",{children:"Team Name:"})," ",t.teamName]}),t.clubName&&e.jsxs(a,{children:[e.jsx("strong",{children:"Club:"})," ",t.clubName]}),t.establishedYear&&e.jsxs(a,{children:[e.jsx("strong",{children:"Established:"})," ",t.establishedYear]}),t.teamDescription&&e.jsx(a,{sx:{mt:1},children:e.jsx("strong",{children:"Description:"})}),t.teamDescription&&e.jsx(a,{variant:"body2",sx:{mt:.5},children:t.teamDescription})]})})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(x,{children:e.jsxs(j,{children:[e.jsxs(a,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e.jsx(L,{sx:{mr:1}}),"Training & Venue"]}),t.homeGroundName&&e.jsxs(a,{children:[e.jsx("strong",{children:"Home Ground:"})," ",t.homeGroundName]}),t.homeGroundAddress&&e.jsxs(a,{children:[e.jsx("strong",{children:"Address:"})," ",t.homeGroundAddress]}),t.trainingSchedule&&e.jsx(a,{sx:{mt:1},children:e.jsx("strong",{children:"Training Schedule:"})}),t.trainingSchedule&&e.jsx(a,{variant:"body2",children:t.trainingSchedule})]})})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Team Features & Opportunities"}),e.jsxs(c,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[t.hasRegularSocialEvents&&e.jsx(g,{icon:e.jsx(M,{}),label:"Social Events",color:"primary"}),t.attendsSummerTournaments&&e.jsx(g,{icon:e.jsx($,{}),label:"Summer Tournaments",color:"primary"}),t.hasPathwayProgram&&e.jsx(g,{icon:e.jsx(V,{}),label:"Pathway Program",color:"primary"}),t.welcomesParentInvolvement&&e.jsx(g,{icon:e.jsx(B,{}),label:"Parent Involvement Welcome",color:"secondary"})]}),t.hasRegularSocialEvents&&t.socialEventsDescription&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,children:"Social Events:"}),e.jsx(a,{variant:"body2",children:t.socialEventsDescription})]}),t.attendsSummerTournaments&&t.tournamentDetails&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,children:"Tournament Details:"}),e.jsx(a,{variant:"body2",children:t.tournamentDetails})]}),t.hasPathwayProgram&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,children:"Pathway Program:"}),e.jsx(a,{variant:"body2",children:t.pathwayDescription}),t.linkedAdultTeam&&e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Linked Adult Team:"})," ",t.linkedAdultTeam]}),t.academyAffiliation&&e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Academy Affiliation:"})," ",t.academyAffiliation]})]})]})})}),t.coachingPhilosophy&&e.jsx(s,{item:!0,xs:12,children:e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Coaching Philosophy"}),e.jsx(a,{variant:"body2",children:t.coachingPhilosophy}),t.trainingFocus&&e.jsxs(c,{sx:{mt:2},children:[e.jsx(a,{variant:"subtitle2",children:"Training Focus:"}),e.jsx(a,{variant:"body2",children:t.trainingFocus})]}),t.developmentAreas&&e.jsxs(c,{sx:{mt:2},children:[e.jsx(a,{variant:"subtitle2",children:"Development Areas:"}),e.jsx(a,{variant:"body2",children:t.developmentAreas})]})]})})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Additional Information"}),t.teamAchievements&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",children:"Team Achievements:"}),e.jsx(a,{variant:"body2",children:t.teamAchievements})]}),t.equipmentProvided&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",children:"Equipment Provided:"}),e.jsx(a,{variant:"body2",children:t.equipmentProvided})]}),t.seasonalFees&&e.jsxs(c,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",children:"Seasonal Fees:"}),e.jsx(a,{variant:"body2",children:t.seasonalFees})]})]})})}),t.coachingStaff&&e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"Coaching Staff"}),e.jsx(a,{variant:"body2",children:t.coachingStaff})]})})})]}):e.jsxs(J,{sx:{p:4,textAlign:"center"},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:"No Team Profile Found"}),e.jsx(a,{color:"text.secondary",sx:{mb:3},children:"Create a team profile to showcase your team's information, features, and opportunities to potential players and parents."}),e.jsx(u,{variant:"contained",startIcon:e.jsx(F,{}),onClick:()=>m(!0),children:"Create Team Profile"})]}),e.jsxs(U,{open:G,onClose:()=>m(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(X,{children:t?"Edit Team Profile":"Create Team Profile"}),e.jsx(K,{children:e.jsxs(s,{container:!0,spacing:3,sx:{mt:1},children:[e.jsxs(s,{item:!0,xs:12,children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"primary",children:"Basic Information"}),e.jsx(p,{sx:{mb:2}})]}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Team Name *",value:r.teamName,onChange:n("teamName")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Club Name",value:r.clubName,onChange:n("clubName")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Established Year",type:"number",value:r.establishedYear||"",onChange:n("establishedYear")})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Team Description",multiline:!0,rows:3,value:r.teamDescription,onChange:n("teamDescription")})}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mt:2},children:"Training & Venue"}),e.jsx(p,{sx:{mb:2}})]}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Home Ground Name",value:r.homeGroundName,onChange:n("homeGroundName")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Home Ground Address",value:r.homeGroundAddress,onChange:n("homeGroundAddress")})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Training Schedule",multiline:!0,rows:2,placeholder:"e.g., Tuesdays & Thursdays 6:00-7:30 PM, Saturdays 10:00 AM - 12:00 PM",value:r.trainingSchedule,onChange:n("trainingSchedule")})}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mt:2},children:"Social & Community Features"}),e.jsx(p,{sx:{mb:2}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsx(v,{control:e.jsx(f,{checked:r.hasRegularSocialEvents,onChange:n("hasRegularSocialEvents")}),label:"Regular Social Events (Players & Parents)"})}),r.hasRegularSocialEvents&&e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Social Events Description",multiline:!0,rows:2,placeholder:"Describe the type of social events you organize...",value:r.socialEventsDescription,onChange:n("socialEventsDescription")})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(v,{control:e.jsx(f,{checked:r.welcomesParentInvolvement,onChange:n("welcomesParentInvolvement")}),label:"Welcomes Parent Involvement"})}),r.welcomesParentInvolvement&&e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Parent Involvement Details",multiline:!0,rows:2,placeholder:"How can parents get involved with the team?",value:r.parentInvolvementDetails,onChange:n("parentInvolvementDetails")})}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mt:2},children:"Development & Pathways"}),e.jsx(p,{sx:{mb:2}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsx(v,{control:e.jsx(f,{checked:r.attendsSummerTournaments,onChange:n("attendsSummerTournaments")}),label:"Attends Summer Tournaments"})}),r.attendsSummerTournaments&&e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Tournament Details",multiline:!0,rows:2,placeholder:"Which tournaments do you attend? What level?",value:r.tournamentDetails,onChange:n("tournamentDetails")})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(v,{control:e.jsx(f,{checked:r.hasPathwayProgram,onChange:n("hasPathwayProgram")}),label:"Pathway Program to Adult Team/Academy"})}),r.hasPathwayProgram&&e.jsxs(e.Fragment,{children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Pathway Description",multiline:!0,rows:2,placeholder:"Describe the pathway opportunities available...",value:r.pathwayDescription,onChange:n("pathwayDescription")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Linked Adult Team",value:r.linkedAdultTeam,onChange:n("linkedAdultTeam")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Academy Affiliation",value:r.academyAffiliation,onChange:n("academyAffiliation")})})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mt:2},children:"Coaching Philosophy"}),e.jsx(p,{sx:{mb:2}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Coaching Philosophy",multiline:!0,rows:3,placeholder:"Describe your coaching approach and philosophy...",value:r.coachingPhilosophy,onChange:n("coachingPhilosophy")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Training Focus",placeholder:"e.g., Technical skills, Tactical awareness",value:r.trainingFocus,onChange:n("trainingFocus")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Development Areas",placeholder:"e.g., Individual skill development, Team play",value:r.developmentAreas,onChange:n("developmentAreas")})}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mt:2},children:"Additional Information"}),e.jsx(p,{sx:{mb:2}})]}),e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Coaching Staff",multiline:!0,rows:2,placeholder:"Information about your coaching team...",value:r.coachingStaff,onChange:n("coachingStaff")})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Team Achievements",multiline:!0,rows:2,placeholder:"Recent achievements, awards, league positions...",value:r.teamAchievements,onChange:n("teamAchievements")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Equipment Provided",placeholder:"e.g., Training bibs, balls, match kit",value:r.equipmentProvided,onChange:n("equipmentProvided")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(i,{fullWidth:!0,label:"Seasonal Fees",placeholder:"e.g., Â£200 per season, includes kit",value:r.seasonalFees,onChange:n("seasonalFees")})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(i,{fullWidth:!0,label:"Special Requirements",multiline:!0,rows:2,placeholder:"Any special requirements or considerations...",value:r.specialRequirements,onChange:n("specialRequirements")})})]})}),e.jsxs(Q,{children:[e.jsx(u,{onClick:()=>m(!1),children:"Cancel"}),e.jsx(u,{onClick:R,variant:"contained",disabled:I||!r.teamName.trim(),children:I?e.jsx(k,{size:20}):t?"Update":"Create"})]})]})]})};export{ae as default};
